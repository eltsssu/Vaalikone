<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>

<h1>Kysymyksien hallinta</h1>
<body>

	<button onclick="lahetayksikysymys();">Lis��</button>

	<form id='lomake' onsubmit="return false;">
		</label><input type='text' name='kysymys' value=''> <label>
	</form>

</body>

<script>
	function lahetayksikysymys() {
		
		EntityManagerFactory emf = null;
		EntityManager em = null;
		
		emf = Persistence.createEntityManagerFactory("vaalikones");
		em = emf.createEntityManager();
		em.getTransaction().begin();
		
		var lomake = document.getElementById("lomake");

		var kysymys = new Object();

		kysymys.kysymys = lomake.kysymys.value;


		var jsonTietokone = JSON.stringify(tietokone);
		document.getElementById("yksia").innerHTML = jsonTietokone;
		document.getElementById("yksib").innerHTML = JSON
				.stringify(jsonTietokone);

		var xhttp = new XMLHttpRequest();

		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				document.getElementById("yksitietokone").innerHTML = this.responseText;
				var palautettu = JSON.parse(this.responseText);
				document.getElementById("osina").innerHTML = "ID="
						+ palautettu.id + " Merkki=" + palautettu.merkki
						+ " Hinta=" + palautettu.hinta;
			} 
// 			else {
// 				document.getElementById("yksiriista").innerHTML = "Problems!";
// 			}
		};

		xhttp.open("POST", "./rest/tietokoneservice/yksiTietokone", true);
		//		xhttp.setRequestHeader("Content-type","text/plain");
		xhttp.setRequestHeader("Content-type", "application/json");
		//		xmlhttp.setRequestHeader("Data-type","json");
		xhttp.send(jsonTietokone);

	}

	function luepenantaulujaksoittain() {
		setInterval(luepenantaulunuusin, 3000);
	}
</script>
</html>