<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
</body>
<script>
		EntityManagerFactory emf = null;
		EntityManager em = null;

		emf = Persistence.createEntityManagerFactory("vaalikones");
		em = emf.createEntityManager();
		em.getTransaction().begin();

		function lahetayksikysymys() {
			var lomake = document.getElementById("lomake");

			var kysymys = new Object();

			kysymys.kysymys = kysymys.id.value;
			tietokone.merkki = lomake.merkki.value;
			tietokone.hinta = lomake.hinta.value;

			var jsonKysymys = JSON.stringify(kysymys);
			document.getElementById("yksia").innerHTML = jsonKysymys;
			document.getElementById("yksib").innerHTML = JSON
					.stringify(jsonKysymys);

			var xhttp = new XMLHttpRequest();

			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					document.getElementById("yksitietokone").innerHTML = this.responseText;
					var palautettu = JSON.parse(this.responseText);
					document.getElementById("osina").innerHTML = "ID="
							+ palautettu.id + " Merkki=" + palautettu.merkki
							+ " Hinta=" + palautettu.hinta;
				}
				// 			else {
				// 				document.getElementById("yksiriista").innerHTML = "Problems!";
				// 			}
			};

			xhttp.open("POST", "./rest/tietokoneservice/yksiTietokone", true);
			//		xhttp.setRequestHeader("Content-type","text/plain");
			xhttp.setRequestHeader("Content-type", "application/json");
			//		xmlhttp.setRequestHeader("Data-type","json");
			xhttp.send(jsonTietokone);

		}

		function luepenantaulujaksoittain() {
			setInterval(luepenantaulunuusin, 3000);
		}
	</script>
</html>